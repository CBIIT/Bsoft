<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bsoft: /Users/bernard/b20/bsoft/src/model/model_extract_build.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Bsoft_icon128.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bsoft
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
   <div id="projectbrief">Bernard&#39;s software package</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('model__extract__build_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">model_extract_build.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to extract subvolumes and build new maps.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_bimage_8h_source.html">Bimage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="model__extract__build_8h_source.html">model_extract_build.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="model__util_8h_source.html">model_util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="file__util_8h_source.html">file_util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="linked__list_8h_source.html">linked_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="random__numbers_8h_source.html">random_numbers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utilities_8h_source.html">utilities.h</a>&quot;</code><br />
</div>
<p><a href="model__extract__build_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4a609200e7993a07feeb56c3f22d5d6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_matrix3.html">Matrix3</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a4a609200e7993a07feeb56c3f22d5d6b">get_link_matrix</a> (<a class="el" href="class_blink.html">Blink</a> *link)</td></tr>
<tr class="separator:a4a609200e7993a07feeb56c3f22d5d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb4bd578b1a2195899a713428d8d2ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a4fb4bd578b1a2195899a713428d8d2ac">component_find_shift</a> (<a class="el" href="class_bcomponent.html">Bcomponent</a> *comp, <a class="el" href="class_bimage.html">Bimage</a> *p, <a class="el" href="class_bimage.html">Bimage</a> *ptemp, <a class="el" href="class_bimage.html">Bimage</a> *pmask, <a class="el" href="class_bimage.html">Bimage</a> *pfsmask, <a class="el" href="class_view2.html">View2</a>&lt; float &gt; view, double hires, double lores, double shift_limit, int shift_flag, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a6ecaa8728bab23c3a7d96fe0cadc75f2">planf</a>, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a9ec8849996c5e210d7b7e8e05b98639d">planb</a>)</td></tr>
<tr class="separator:a4fb4bd578b1a2195899a713428d8d2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f06cdd1e5d40f4c1c6be44bf7c0613d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a3f06cdd1e5d40f4c1c6be44bf7c0613d">component_find_shift2</a> (<a class="el" href="class_bcomponent.html">Bcomponent</a> *comp, <a class="el" href="class_bimage.html">Bimage</a> *p, <a class="el" href="class_bimage.html">Bimage</a> *ptemp, <a class="el" href="class_bimage.html">Bimage</a> *pmask, <a class="el" href="class_bimage.html">Bimage</a> *pfsmask, <a class="el" href="class_view2.html">View2</a>&lt; float &gt; view, double hires, double lores, double shift_limit, int shift_flag, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a6ecaa8728bab23c3a7d96fe0cadc75f2">planf</a>, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a9ec8849996c5e210d7b7e8e05b98639d">planb</a>)</td></tr>
<tr class="separator:a3f06cdd1e5d40f4c1c6be44bf7c0613d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35f8d37741ec03e9c65792346dbd354"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#ad35f8d37741ec03e9c65792346dbd354">component_refine_random</a> (<a class="el" href="class_bcomponent.html">Bcomponent</a> *comp, <a class="el" href="class_bimage.html">Bimage</a> *p, <a class="el" href="class_bimage.html">Bimage</a> *ptemp, <a class="el" href="class_bimage.html">Bimage</a> *pmask, <a class="el" href="class_bimage.html">Bimage</a> *pfsmask, int max_iter, double hires, double lores, double max_shift, double max_view_angle, double max_rot_angle, int shift_flag, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a6ecaa8728bab23c3a7d96fe0cadc75f2">planf</a>, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a9ec8849996c5e210d7b7e8e05b98639d">planb</a>)</td></tr>
<tr class="separator:ad35f8d37741ec03e9c65792346dbd354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f27114a74fed9641316c9fc9e39120"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a23f27114a74fed9641316c9fc9e39120">component_refine</a> (<a class="el" href="class_bcomponent.html">Bcomponent</a> *comp, <a class="el" href="class_bimage.html">Bimage</a> *p, <a class="el" href="class_bimage.html">Bimage</a> *ptemp, <a class="el" href="class_bimage.html">Bimage</a> *pmask, <a class="el" href="class_bimage.html">Bimage</a> *pfsmask, double viewmax, double rotmax, double viewstep, double rotstep, double hires, double lores, double accuracy, double max_shift, int shift_flag, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a6ecaa8728bab23c3a7d96fe0cadc75f2">planf</a>, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a9ec8849996c5e210d7b7e8e05b98639d">planb</a>)</td></tr>
<tr class="separator:a23f27114a74fed9641316c9fc9e39120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d5cd39753e8c746ff8c773b39c42e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a02d5cd39753e8c746ff8c773b39c42e3">model_refine_components</a> (<a class="el" href="class_bmodel.html">Bmodel</a> *<a class="el" href="tcltk__bmodel_8cpp.html#a828359eaa8de833b547ac96934f43841">model</a>, <a class="el" href="class_bstring.html">Bstring</a> *ct_names, <a class="el" href="class_bimage.html">Bimage</a> *ptemp, <a class="el" href="class_bimage.html">Bimage</a> *pmask, <a class="el" href="class_bimage.html">Bimage</a> *pfsmask, int max_iter, double viewstep, double rotstep, double hires, double lores, double accuracy, double max_shift, double max_view_angle, double max_rot_angle, int shift_flag)</td></tr>
<tr class="memdesc:a02d5cd39753e8c746ff8c773b39c42e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refines component views and positions by cross-correlation.  <a href="model__extract__build_8cpp.html#a02d5cd39753e8c746ff8c773b39c42e3">More...</a><br /></td></tr>
<tr class="separator:a02d5cd39753e8c746ff8c773b39c42e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37849696f03b788d6bd64a265cc7142e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a37849696f03b788d6bd64a265cc7142e">model_refine_link_positions</a> (<a class="el" href="class_bmodel.html">Bmodel</a> *<a class="el" href="tcltk__bmodel_8cpp.html#a828359eaa8de833b547ac96934f43841">model</a>, <a class="el" href="class_bimage.html">Bimage</a> *ptemp, <a class="el" href="class_bimage.html">Bimage</a> *pmask, <a class="el" href="class_bimage.html">Bimage</a> *pfsmask, double hires, double lores, double max_shift, int shift_flag, double bias)</td></tr>
<tr class="memdesc:a37849696f03b788d6bd64a265cc7142e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refines link positions by cross-correlation.  <a href="model__extract__build_8cpp.html#a37849696f03b788d6bd64a265cc7142e">More...</a><br /></td></tr>
<tr class="separator:a37849696f03b788d6bd64a265cc7142e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dad1a41652fa29a8466fa378740ad9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a7dad1a41652fa29a8466fa378740ad9e">model_average_component_density</a> (<a class="el" href="class_bmodel.html">Bmodel</a> *<a class="el" href="tcltk__bmodel_8cpp.html#a828359eaa8de833b547ac96934f43841">model</a>, <a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt; size, <a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt; origin, int npt)</td></tr>
<tr class="memdesc:a7dad1a41652fa29a8466fa378740ad9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Averages the density associated with each component type in a model.  <a href="model__extract__build_8cpp.html#a7dad1a41652fa29a8466fa378740ad9e">More...</a><br /></td></tr>
<tr class="separator:a7dad1a41652fa29a8466fa378740ad9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf616d1096e9c64df95a4df36faa4ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a4cf616d1096e9c64df95a4df36faa4ef">model_extract_component_densities</a> (<a class="el" href="class_bmodel.html">Bmodel</a> *<a class="el" href="tcltk__bmodel_8cpp.html#a828359eaa8de833b547ac96934f43841">model</a>, <a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt; size, <a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt; origin)</td></tr>
<tr class="memdesc:a4cf616d1096e9c64df95a4df36faa4ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts all densities associated with components in a model.  <a href="model__extract__build_8cpp.html#a4cf616d1096e9c64df95a4df36faa4ef">More...</a><br /></td></tr>
<tr class="separator:a4cf616d1096e9c64df95a4df36faa4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac60402ba574d137327a1e56c974d5bdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#ac60402ba574d137327a1e56c974d5bdd">model_average_link_density</a> (<a class="el" href="class_bmodel.html">Bmodel</a> *<a class="el" href="tcltk__bmodel_8cpp.html#a828359eaa8de833b547ac96934f43841">model</a>, <a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt; size, <a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt; origin)</td></tr>
<tr class="memdesc:ac60402ba574d137327a1e56c974d5bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts a density associated with each link in a model.  <a href="model__extract__build_8cpp.html#ac60402ba574d137327a1e56c974d5bdd">More...</a><br /></td></tr>
<tr class="separator:ac60402ba574d137327a1e56c974d5bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabcb8625b685dbec1604485128e8f884"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#aabcb8625b685dbec1604485128e8f884">model_build_from_component_density</a> (<a class="el" href="class_bmodel.html">Bmodel</a> *<a class="el" href="tcltk__bmodel_8cpp.html#a828359eaa8de833b547ac96934f43841">model</a>, <a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt; size, <a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt; origin, int flags)</td></tr>
<tr class="memdesc:aabcb8625b685dbec1604485128e8f884"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a new map from a densities of components in a model.  <a href="model__extract__build_8cpp.html#aabcb8625b685dbec1604485128e8f884">More...</a><br /></td></tr>
<tr class="separator:aabcb8625b685dbec1604485128e8f884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2491a359325a848d4afddef81ffa78c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#ae2491a359325a848d4afddef81ffa78c">model_build_from_link_density</a> (<a class="el" href="class_bmodel.html">Bmodel</a> *<a class="el" href="tcltk__bmodel_8cpp.html#a828359eaa8de833b547ac96934f43841">model</a>, <a class="el" href="class_bstring.html">Bstring</a> &amp;linkmap, <a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt; size, <a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt; origin, int <a class="el" href="tcltk__bmodel_8cpp.html#a55eeb63c8d2cfc98606c77453b480295">link_select</a>, int flags)</td></tr>
<tr class="memdesc:ae2491a359325a848d4afddef81ffa78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a new map from a density of a link in a model.  <a href="model__extract__build_8cpp.html#ae2491a359325a848d4afddef81ffa78c">More...</a><br /></td></tr>
<tr class="separator:ae2491a359325a848d4afddef81ffa78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0b2caeb4b6f130be43e5a2f0267dd453"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__extract__build_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a></td></tr>
<tr class="separator:a0b2caeb4b6f130be43e5a2f0267dd453"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions to extract subvolumes and build new maps. </p>
<dl class="section author"><dt>Author</dt><dd>Bernard Heymann </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Created: 20060411 </dd>
<dd>
Modified: 20150915 </dd></dl>

<p class="definition">Definition in file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4fb4bd578b1a2195899a713428d8d2ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb4bd578b1a2195899a713428d8d2ac">&#9670;&nbsp;</a></span>component_find_shift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_vector3.html">Vector3</a>&lt;double&gt; component_find_shift </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bcomponent.html">Bcomponent</a> *&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pfsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_view2.html">View2</a>&lt; float &gt;&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hires</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00056">56</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="a3f06cdd1e5d40f4c1c6be44bf7c0613d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f06cdd1e5d40f4c1c6be44bf7c0613d">&#9670;&nbsp;</a></span>component_find_shift2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_vector3.html">Vector3</a>&lt;double&gt; component_find_shift2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bcomponent.html">Bcomponent</a> *&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pfsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_view2.html">View2</a>&lt; float &gt;&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hires</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00105">105</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="a23f27114a74fed9641316c9fc9e39120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f27114a74fed9641316c9fc9e39120">&#9670;&nbsp;</a></span>component_refine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int component_refine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bcomponent.html">Bcomponent</a> *&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pfsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>viewmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rotmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>viewstep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rotstep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hires</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>accuracy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00207">207</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="ad35f8d37741ec03e9c65792346dbd354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35f8d37741ec03e9c65792346dbd354">&#9670;&nbsp;</a></span>component_refine_random()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int component_refine_random </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bcomponent.html">Bcomponent</a> *&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pfsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hires</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_view_angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_rot_angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00154">154</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="a4a609200e7993a07feeb56c3f22d5d6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a609200e7993a07feeb56c3f22d5d6b">&#9670;&nbsp;</a></span>get_link_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_matrix3.html">Matrix3</a> get_link_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blink.html">Blink</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00029">29</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="a7dad1a41652fa29a8466fa378740ad9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dad1a41652fa29a8466fa378740ad9e">&#9670;&nbsp;</a></span>model_average_component_density()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* model_average_component_density </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmodel.html">Bmodel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt;&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Averages the density associated with each component type in a model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*model</td><td>model. </td></tr>
    <tr><td class="paramname">size</td><td>size of component density to extract. </td></tr>
    <tr><td class="paramname">origin</td><td>origin of new component density image. </td></tr>
    <tr><td class="paramname">npt</td><td>number per type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* average density around a component. <pre class="fragment">The densities associated with each vertex type is extracted and averaged.
The extracted density origin is placed on the component coordinates.
The component views must already be set.
Only the first model in the list is processed.
The map file for the model must exist.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00707">707</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="ac60402ba574d137327a1e56c974d5bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac60402ba574d137327a1e56c974d5bdd">&#9670;&nbsp;</a></span>model_average_link_density()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* model_average_link_density </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmodel.html">Bmodel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt;&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>origin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts a density associated with each link in a model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*model</td><td>model. </td></tr>
    <tr><td class="paramname">size</td><td>size of link density to extract. </td></tr>
    <tr><td class="paramname">origin</td><td>origin of new link density image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* new image with the density around the link. <pre class="fragment">The link density origin is positioned on the center of the link.
The component views must already be set.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00923">923</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="aabcb8625b685dbec1604485128e8f884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabcb8625b685dbec1604485128e8f884">&#9670;&nbsp;</a></span>model_build_from_component_density()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* model_build_from_component_density </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmodel.html">Bmodel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt;&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a new map from a densities of components in a model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*model</td><td>model. </td></tr>
    <tr><td class="paramname">size</td><td>size of new map. </td></tr>
    <tr><td class="paramname">origin</td><td>origin of new map with respect to the model. </td></tr>
    <tr><td class="paramname">flags</td><td>flags to weigh by contributions (1) and build separate maps (2). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* new map. <pre class="fragment">The number of new maps depends on the number of selected component types
and access to their density maps.
The component views must already be set.
The sampling must be the same for all component type maps.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l01015">1015</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="ae2491a359325a848d4afddef81ffa78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2491a359325a848d4afddef81ffa78c">&#9670;&nbsp;</a></span>model_build_from_link_density()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* model_build_from_link_density </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmodel.html">Bmodel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bstring.html">Bstring</a> &amp;&#160;</td>
          <td class="paramname"><em>linkmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt;&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>link_select</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a new map from a density of a link in a model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*model</td><td>model. </td></tr>
    <tr><td class="paramname">&amp;linkmap</td><td>link map filename. </td></tr>
    <tr><td class="paramname">size</td><td>size of new map. </td></tr>
    <tr><td class="paramname">origin</td><td>origin of new map with respect to the model. </td></tr>
    <tr><td class="paramname">link_select</td><td>link selection number to build (first = 1). </td></tr>
    <tr><td class="paramname">flags</td><td>flags to weigh by contributions (1) and build separate maps (2). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* new map. <pre class="fragment">The component views must already be set.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l01146">1146</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="a4cf616d1096e9c64df95a4df36faa4ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cf616d1096e9c64df95a4df36faa4ef">&#9670;&nbsp;</a></span>model_extract_component_densities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* model_extract_component_densities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmodel.html">Bmodel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; long &gt;&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_vector3.html">Vector3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>origin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts all densities associated with components in a model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*model</td><td>model. </td></tr>
    <tr><td class="paramname">size</td><td>size of component density to extract. </td></tr>
    <tr><td class="paramname">origin</td><td>origin of new component density image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* all densities around components. <pre class="fragment">The densities associated with each component is extracted.
The extracted density origin is placed on the component coordinates.
The component views must already be set.
Only the first model in the list is processed.
The map file for the model must exist.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00841">841</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="a02d5cd39753e8c746ff8c773b39c42e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02d5cd39753e8c746ff8c773b39c42e3">&#9670;&nbsp;</a></span>model_refine_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int model_refine_components </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmodel.html">Bmodel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bstring.html">Bstring</a> *&#160;</td>
          <td class="paramname"><em>ct_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pfsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>viewstep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rotstep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hires</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>accuracy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_view_angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_rot_angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refines component views and positions by cross-correlation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*model</td><td>model. </td></tr>
    <tr><td class="paramname">*ct_names</td><td>list of names associated with template sub-images. </td></tr>
    <tr><td class="paramname">*ptemp</td><td>density template. </td></tr>
    <tr><td class="paramname">*pmask</td><td>real space mask. </td></tr>
    <tr><td class="paramname">*pfsmask</td><td>cross-correlation mask. </td></tr>
    <tr><td class="paramname">max_iter</td><td>maximum number of iterations, 0 means only positional refinement. </td></tr>
    <tr><td class="paramname">viewstep</td><td>first view direction angular step size (radians). </td></tr>
    <tr><td class="paramname">rotstep</td><td>rotation around view angular step size (radians). </td></tr>
    <tr><td class="paramname">hires</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lores</td><td>low resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">accuracy</td><td>angular accuracy (radians). </td></tr>
    <tr><td class="paramname">max_shift</td><td>maximum shift in coordinates (angstrom). </td></tr>
    <tr><td class="paramname">max_view_angle</td><td>maximum angular change in view vector (radians). </td></tr>
    <tr><td class="paramname">max_rot_angle</td><td>maximum angular change in rotation around view vector (radians). </td></tr>
    <tr><td class="paramname">shift_flag</td><td>flag to shift only along the normal (1) or perpendicular to it (2). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0, &lt;0 on error. <pre class="fragment">The density origin is positioned on the component.
The component views must already be set.
The number of component type names should be equal to the number of 
sub-images in the template.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00301">301</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<a id="a37849696f03b788d6bd64a265cc7142e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37849696f03b788d6bd64a265cc7142e">&#9670;&nbsp;</a></span>model_refine_link_positions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int model_refine_link_positions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmodel.html">Bmodel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pfsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hires</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>bias</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refines link positions by cross-correlation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*model</td><td>model. </td></tr>
    <tr><td class="paramname">*ptemp</td><td>density template. </td></tr>
    <tr><td class="paramname">*pmask</td><td>real space mask. </td></tr>
    <tr><td class="paramname">*pfsmask</td><td>cross-correlation mask. </td></tr>
    <tr><td class="paramname">hires</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lores</td><td>low resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">max_shift</td><td>maximum shift in coordinates (angstrom). </td></tr>
    <tr><td class="paramname">shift_flag</td><td>flag to shift only along the normal (1) or perpendicular to it (2). </td></tr>
    <tr><td class="paramname">bias</td><td>bias to apply to first correlation coefficient. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* density around the component. <pre class="fragment">The density origin is positioned on the link center.
The component views must already be set.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__extract__build_8cpp_source.html#l00563">563</a> of file <a class="el" href="model__extract__build_8cpp_source.html">model_extract_build.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0b2caeb4b6f130be43e5a2f0267dd453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b2caeb4b6f130be43e5a2f0267dd453">&#9670;&nbsp;</a></span>verbose</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int verbose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_5dd65160827af56e6353642206b80129.html">model</a></li><li class="navelem"><a class="el" href="model__extract__build_8cpp.html">model_extract_build.cpp</a></li>
    <li class="footer">Generated on Wed Sep 1 2021 09:22:04 for Bsoft by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
