<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bsoft: /Users/bernard/b20/bsoft/include/mg_tomo_track.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Bsoft_icon128.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bsoft
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
   <div id="projectbrief">Bernard&#39;s software package</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('mg__tomo__track_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mg_tomo_track.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to track fiducial markers in a tomographic series of images.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="mg__processing_8h_source.html">mg_processing.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rwmg_8h_source.html">rwmg.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rwimg_8h_source.html">rwimg.h</a>&quot;</code><br />
</div>
<p><a href="mg__tomo__track_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a022e6a0cb5b21fcf0d94ac05def713ca"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a022e6a0cb5b21fcf0d94ac05def713ca">project_find_tilt_axis</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>, double tilt, double axis_start, double axis_end, double axis_step, double hi_res, double lo_res, double shift_limit)</td></tr>
<tr class="memdesc:a022e6a0cb5b21fcf0d94ac05def713ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the tilt axis for a tomographic tilt series.  <a href="mg__tomo__track_8h.html#a022e6a0cb5b21fcf0d94ac05def713ca">More...</a><br /></td></tr>
<tr class="separator:a022e6a0cb5b21fcf0d94ac05def713ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7625b124b884feae83f5f5d8779329"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a8e7625b124b884feae83f5f5d8779329">project_track_markers</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>, double hi_res, double lo_res, double shift_limit, double thickness, int max_cycle, double target, int cc_type, int recenter, <a class="el" href="class_bstring.html">Bstring</a> paramfile)</td></tr>
<tr class="memdesc:a8e7625b124b884feae83f5f5d8779329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aligns markers in a tomographic series.  <a href="mg__tomo__track_8h.html#a8e7625b124b884feae83f5f5d8779329">More...</a><br /></td></tr>
<tr class="separator:a8e7625b124b884feae83f5f5d8779329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea043218e47a78185516d8d16ec50621"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#aea043218e47a78185516d8d16ec50621">project_track_markers_dual</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>, double hi_res, double lo_res, double shift_limit, double thickness, int max_cycle, double target, int cc_type, int recenter, <a class="el" href="class_bstring.html">Bstring</a> paramfile)</td></tr>
<tr class="memdesc:aea043218e47a78185516d8d16ec50621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aligns markers in a tomographic series.  <a href="mg__tomo__track_8h.html#aea043218e47a78185516d8d16ec50621">More...</a><br /></td></tr>
<tr class="separator:aea043218e47a78185516d8d16ec50621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62cc9a41e82471168284d84eccac674b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a62cc9a41e82471168284d84eccac674b">project_refine_markers</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>, double hi_res, double lo_res)</td></tr>
<tr class="memdesc:a62cc9a41e82471168284d84eccac674b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refines marker positions in a tomographic series.  <a href="mg__tomo__track_8h.html#a62cc9a41e82471168284d84eccac674b">More...</a><br /></td></tr>
<tr class="separator:a62cc9a41e82471168284d84eccac674b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0f0eb8bec8888b8ecc7c0e7bacd8e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a0b0f0eb8bec8888b8ecc7c0e7bacd8e7">project_refine_one_marker</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>, int id, double hi_res, double lo_res)</td></tr>
<tr class="memdesc:a0b0f0eb8bec8888b8ecc7c0e7bacd8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refines marker positions in a tomographic series.  <a href="mg__tomo__track_8h.html#a0b0f0eb8bec8888b8ecc7c0e7bacd8e7">More...</a><br /></td></tr>
<tr class="separator:a0b0f0eb8bec8888b8ecc7c0e7bacd8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8848431a83b56335921515af1c11419"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#ab8848431a83b56335921515af1c11419">mg_refine_markers</a> (<a class="el" href="class_bmicrograph.html">Bmicrograph</a> *mg, <a class="el" href="class_bimage.html">Bimage</a> *pgold, double hi_res, double lo_res)</td></tr>
<tr class="memdesc:ab8848431a83b56335921515af1c11419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refines marker positions in a tomographic micrograph.  <a href="mg__tomo__track_8h.html#ab8848431a83b56335921515af1c11419">More...</a><br /></td></tr>
<tr class="separator:ab8848431a83b56335921515af1c11419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bf51633d449f416cb929300f95a00f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a65bf51633d449f416cb929300f95a00f">project_refine</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>, int iter, double tol, <a class="el" href="class_bstring.html">Bstring</a> refop)</td></tr>
<tr class="memdesc:a65bf51633d449f416cb929300f95a00f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refines all the alignment parameters.  <a href="mg__tomo__track_8h.html#a65bf51633d449f416cb929300f95a00f">More...</a><br /></td></tr>
<tr class="separator:a65bf51633d449f416cb929300f95a00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1e9fdde16b988ae84933bcad7d1c00"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a4b1e9fdde16b988ae84933bcad7d1c00">project_refine_z</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>)</td></tr>
<tr class="memdesc:a4b1e9fdde16b988ae84933bcad7d1c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refines the z coordinates of the marker model.  <a href="mg__tomo__track_8h.html#a4b1e9fdde16b988ae84933bcad7d1c00">More...</a><br /></td></tr>
<tr class="separator:a4b1e9fdde16b988ae84933bcad7d1c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f5d0ba5315ee851a3af64e48fd048ae"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a1f5d0ba5315ee851a3af64e48fd048ae">project_refine</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>, int do_view, int do_origin, int do_scale)</td></tr>
<tr class="memdesc:a1f5d0ba5315ee851a3af64e48fd048ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refines the views from the marker positions and marker model.  <a href="mg__tomo__track_8h.html#a1f5d0ba5315ee851a3af64e48fd048ae">More...</a><br /></td></tr>
<tr class="separator:a1f5d0ba5315ee851a3af64e48fd048ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902343425f31f854f2d2e1ad8c3fcf33"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a902343425f31f854f2d2e1ad8c3fcf33">project_tilt_axis_from_markers</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>)</td></tr>
<tr class="memdesc:a902343425f31f854f2d2e1ad8c3fcf33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the tilt axis from the marker trajectories.  <a href="mg__tomo__track_8h.html#a902343425f31f854f2d2e1ad8c3fcf33">More...</a><br /></td></tr>
<tr class="separator:a902343425f31f854f2d2e1ad8c3fcf33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81893069fa38b3d9602bd590379d8405"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a81893069fa38b3d9602bd590379d8405">mg_marker_shift</a> (<a class="el" href="class_bmicrograph.html">Bmicrograph</a> *mg, <a class="el" href="class_bimage.html">Bimage</a> *pgold, double hi_res, double lo_res, double shift_limit)</td></tr>
<tr class="separator:a81893069fa38b3d9602bd590379d8405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f6e56aa4ea2f07c9e0e9cb936f2fb8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a27f6e56aa4ea2f07c9e0e9cb936f2fb8">mg_marker_shift</a> (<a class="el" href="class_bmicrograph.html">Bmicrograph</a> *mg, <a class="el" href="class_bimage.html">Bimage</a> *pgold, double hi_res, double lo_res, double shift_limit, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a6ecaa8728bab23c3a7d96fe0cadc75f2">planf</a>, <a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a> <a class="el" href="bico_8cpp.html#a9ec8849996c5e210d7b7e8e05b98639d">planb</a>)</td></tr>
<tr class="memdesc:a27f6e56aa4ea2f07c9e0e9cb936f2fb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the shift of a micrograph wrt the reference using markers.  <a href="mg__tomo__track_8h.html#a27f6e56aa4ea2f07c9e0e9cb936f2fb8">More...</a><br /></td></tr>
<tr class="separator:a27f6e56aa4ea2f07c9e0e9cb936f2fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928229c9dba491e83496348eef50689c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a928229c9dba491e83496348eef50689c">project_transfer_seed</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>, double rot_start, double rot_end, double rot_step, double hi_res, double lo_res, double shift_limit)</td></tr>
<tr class="memdesc:a928229c9dba491e83496348eef50689c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfers the seed markers from the first to the second project.  <a href="mg__tomo__track_8h.html#a928229c9dba491e83496348eef50689c">More...</a><br /></td></tr>
<tr class="separator:a928229c9dba491e83496348eef50689c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd9a7ed8d8ed180387c718b1eeca140"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#a6dd9a7ed8d8ed180387c718b1eeca140">project_transform_dual</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>)</td></tr>
<tr class="memdesc:a6dd9a7ed8d8ed180387c718b1eeca140"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the transformation of the second tilt series to fit the first.  <a href="mg__tomo__track_8h.html#a6dd9a7ed8d8ed180387c718b1eeca140">More...</a><br /></td></tr>
<tr class="separator:a6dd9a7ed8d8ed180387c718b1eeca140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44226fbd6c24bfcb8aa5df91a7f0ff0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mg__tomo__track_8h.html#ab44226fbd6c24bfcb8aa5df91a7f0ff0">project_dual_zcompare</a> (<a class="el" href="class_bproject.html">Bproject</a> *<a class="el" href="tcltk__bmodel_8cpp.html#aea438e09dfc03683a0f49a05e9a69cac">project</a>)</td></tr>
<tr class="memdesc:ab44226fbd6c24bfcb8aa5df91a7f0ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists two sets of Z coordinates for comparison.  <a href="mg__tomo__track_8h.html#ab44226fbd6c24bfcb8aa5df91a7f0ff0">More...</a><br /></td></tr>
<tr class="separator:ab44226fbd6c24bfcb8aa5df91a7f0ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions to track fiducial markers in a tomographic series of images. </p>
<dl class="section author"><dt>Author</dt><dd>Bernard Heymann </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Created: 20020416 </dd>
<dd>
Modified: 20210112 </dd></dl>

<p class="definition">Definition in file <a class="el" href="mg__tomo__track_8h_source.html">mg_tomo_track.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a81893069fa38b3d9602bd590379d8405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81893069fa38b3d9602bd590379d8405">&#9670;&nbsp;</a></span>mg_marker_shift() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mg_marker_shift </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmicrograph.html">Bmicrograph</a> *&#160;</td>
          <td class="paramname"><em>mg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pgold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a27f6e56aa4ea2f07c9e0e9cb936f2fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f6e56aa4ea2f07c9e0e9cb936f2fb8">&#9670;&nbsp;</a></span>mg_marker_shift() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mg_marker_shift </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmicrograph.html">Bmicrograph</a> *&#160;</td>
          <td class="paramname"><em>mg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pgold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fft_8h.html#a61d23c567e69684715ea52482137a5e6">fft_plan</a>&#160;</td>
          <td class="paramname"><em>planb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the shift of a micrograph wrt the reference using markers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*mg</td><td>micrograph. </td></tr>
    <tr><td class="paramname">*pgold</td><td>marker reference image (can be NULL). </td></tr>
    <tr><td class="paramname">hi_res</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lo_res</td><td>low resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">shift_limit</td><td>maximum micrograph shift to search for. </td></tr>
    <tr><td class="paramname">planf</td><td>FFT forward plan. </td></tr>
    <tr><td class="paramname">planb</td><td>FFT backward plan. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double correlation coefficient. <pre class="fragment">The marker locations and marker radius must already be set.
The correlation coefficient for the correlation between the micrograph
and the 2D image generated from the markers is retuned.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l01237">1237</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="ab8848431a83b56335921515af1c11419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8848431a83b56335921515af1c11419">&#9670;&nbsp;</a></span>mg_refine_markers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mg_refine_markers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bmicrograph.html">Bmicrograph</a> *&#160;</td>
          <td class="paramname"><em>mg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pgold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refines marker positions in a tomographic micrograph. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*mg</td><td>micrograph. </td></tr>
    <tr><td class="paramname">*pgold</td><td>marker reference image (can be NULL). </td></tr>
    <tr><td class="paramname">hi_res</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lo_res</td><td>low resolution limit for cross-correlation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0. <pre class="fragment">The area around a marker is extracted and cross-correlated with the
corresponding projection from the 3D marker model.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l00833">833</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="ab44226fbd6c24bfcb8aa5df91a7f0ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab44226fbd6c24bfcb8aa5df91a7f0ff0">&#9670;&nbsp;</a></span>project_dual_zcompare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double project_dual_zcompare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists two sets of Z coordinates for comparison. </p>
<dl class="section author"><dt>Author</dt><dd>Jessica Mavadia, Bernard Heymann </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>project with two tilt series. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double root-mean-square-difference. <pre class="fragment">The root-mean-square-difference between the z coordinates is calculated.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l01767">1767</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a022e6a0cb5b21fcf0d94ac05def713ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022e6a0cb5b21fcf0d94ac05def713ca">&#9670;&nbsp;</a></span>project_find_tilt_axis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double project_find_tilt_axis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>axis_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>axis_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>axis_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the tilt axis for a tomographic tilt series. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>project parameter structure. </td></tr>
    <tr><td class="paramname">tilt</td><td>user-chosen tilt angle to use (radians). </td></tr>
    <tr><td class="paramname">axis_start</td><td>starting tilt axis angle. </td></tr>
    <tr><td class="paramname">axis_end</td><td>ending tilt axis angle. </td></tr>
    <tr><td class="paramname">axis_step</td><td>tilt axis angle step size (radians). </td></tr>
    <tr><td class="paramname">hi_res</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lo_res</td><td>low resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">shift_limit</td><td>maximum micrograph shift to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double best correlation coefficient. <pre class="fragment">The zero-tilt reference marker set must be defined.
The micrographs closest to the positive and negative values of the
given tilt angle is selected to find the tilt axis.
The tilt axis for each of these micrographs is incremented from
-PI to PI, markers generated from the reference seed, and 
cross-correlated with the micrograph image.
The tilt axis angle giving the best cross-correlation is chosen
and assigned to all the micrographs.
The markers for the chosen tilted micrographs are deleted.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l00154">154</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a1f5d0ba5315ee851a3af64e48fd048ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f5d0ba5315ee851a3af64e48fd048ae">&#9670;&nbsp;</a></span>project_refine() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double project_refine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>do_view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>do_origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>do_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refines the views from the marker positions and marker model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>micrograph project. </td></tr>
    <tr><td class="paramname">do_view</td><td>refine micrograph views. </td></tr>
    <tr><td class="paramname">do_origin</td><td>refine micrograph origins. </td></tr>
    <tr><td class="paramname">do_scale</td><td>refine micrograph scales. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double best residual. <pre class="fragment">Requires the matrices in the micrograph structures to be defined.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l01007">1007</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a65bf51633d449f416cb929300f95a00f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bf51633d449f416cb929300f95a00f">&#9670;&nbsp;</a></span>project_refine() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double project_refine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bstring.html">Bstring</a>&#160;</td>
          <td class="paramname"><em>refop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refines all the alignment parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>micrograph project. </td></tr>
    <tr><td class="paramname">iter</td><td>maximum number of iterations. </td></tr>
    <tr><td class="paramname">tol</td><td>tolerance for exit condition. </td></tr>
    <tr><td class="paramname">refop</td><td>string holding sequence of refinement operations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double marker RMSD. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l00870">870</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a62cc9a41e82471168284d84eccac674b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62cc9a41e82471168284d84eccac674b">&#9670;&nbsp;</a></span>project_refine_markers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int project_refine_markers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refines marker positions in a tomographic series. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>project parameter structure. </td></tr>
    <tr><td class="paramname">hi_res</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lo_res</td><td>low resolution limit for cross-correlation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0, &lt;0 on error. <pre class="fragment">The area around a marker is extracted and cross-correlated with the
corresponding projection from the 3D marker model.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l00685">685</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a0b0f0eb8bec8888b8ecc7c0e7bacd8e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b0f0eb8bec8888b8ecc7c0e7bacd8e7">&#9670;&nbsp;</a></span>project_refine_one_marker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int project_refine_one_marker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refines marker positions in a tomographic series. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>project parameter structure. </td></tr>
    <tr><td class="paramname">id</td><td>marker identifier. </td></tr>
    <tr><td class="paramname">hi_res</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lo_res</td><td>low resolution limit for cross-correlation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0, &lt;0 on error. <pre class="fragment">The area around a marker is extracted and cross-correlated with the
corresponding projection from the 3D marker model.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l00770">770</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a4b1e9fdde16b988ae84933bcad7d1c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b1e9fdde16b988ae84933bcad7d1c00">&#9670;&nbsp;</a></span>project_refine_z()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double project_refine_z </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refines the z coordinates of the marker model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>micrograph project. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double overall RMS change. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l00950">950</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a902343425f31f854f2d2e1ad8c3fcf33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902343425f31f854f2d2e1ad8c3fcf33">&#9670;&nbsp;</a></span>project_tilt_axis_from_markers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double project_tilt_axis_from_markers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the tilt axis from the marker trajectories. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>micrograph project. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double best residual. <pre class="fragment">If the rotation is around a single axis, the trajectory of a marker should lie in a plane.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l01188">1188</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a8e7625b124b884feae83f5f5d8779329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7625b124b884feae83f5f5d8779329">&#9670;&nbsp;</a></span>project_track_markers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int project_track_markers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>thickness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cc_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recenter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bstring.html">Bstring</a>&#160;</td>
          <td class="paramname"><em>paramfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aligns markers in a tomographic series. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>project parameter structure. </td></tr>
    <tr><td class="paramname">hi_res</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lo_res</td><td>low resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">shift_limit</td><td>maximum micrograph shift to search for. </td></tr>
    <tr><td class="paramname">thickness</td><td>estimated tomogram thickness (angstrom). </td></tr>
    <tr><td class="paramname">max_cycle</td><td>maximum number of iterations. </td></tr>
    <tr><td class="paramname">target</td><td>target residual to terminate tracking. </td></tr>
    <tr><td class="paramname">cc_type</td><td>indicates type of marker correlation: 0=real space, 1=cross correlation </td></tr>
    <tr><td class="paramname">recenter</td><td>flag to recenter z coordinates. </td></tr>
    <tr><td class="paramname">paramfile</td><td>output parameter file name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0, &lt;0 on error. <pre class="fragment">From the fiducial marker seed in the zero-degree tilt image, the 
z coordinates of the markers as well as the image shift for 
each micrograph is determined. The algorithm first attempts to 
find the z-coordinate for each marker in an image by doing 
real space correlations along a line determined by the tilt direction. 
It then generates a projection image from the whole marker set at 
the nominal tilt angle and cross-correlates it with the image to 
find the shift. The process proceeds from the low-angle tilts to 
higher tilts in both directions, using the lower dependence of the 
low-tilt images on correct marker z-coordinates. This process is 
iterated (typically 2-5 times) until the change in z-coordinates drops
below one pixel on average or up to the maximum number of iterations. 
The resolution limits are used in the cross-correlations.
The shift limit prevents setting micrograph origin to far from the nominal origin.
The thickness determines the extent of searching for the z coordinate of a marker.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l00314">314</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="aea043218e47a78185516d8d16ec50621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea043218e47a78185516d8d16ec50621">&#9670;&nbsp;</a></span>project_track_markers_dual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int project_track_markers_dual </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>thickness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cc_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recenter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bstring.html">Bstring</a>&#160;</td>
          <td class="paramname"><em>paramfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aligns markers in a tomographic series. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>project parameter structure. </td></tr>
    <tr><td class="paramname">hi_res</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lo_res</td><td>low resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">shift_limit</td><td>maximum micrograph shift to search for. </td></tr>
    <tr><td class="paramname">thickness</td><td>estimated tomogram thickness (angstrom). </td></tr>
    <tr><td class="paramname">max_cycle</td><td>maximum number of iterations. </td></tr>
    <tr><td class="paramname">target</td><td>target residual to terminate tracking. </td></tr>
    <tr><td class="paramname">cc_type</td><td>indicates type of marker correlation: 0=real space, 1=cross correlation </td></tr>
    <tr><td class="paramname">recenter</td><td>flag to recenter z coordinates. </td></tr>
    <tr><td class="paramname">paramfile</td><td>output parameter file name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0, &lt;0 on error. <pre class="fragment">From the fiducial marker seed in the zero-degree tilt image, the 
z coordinates of the markers as well as the image shift for 
each micrograph is determined. The algorithm first attempts to 
find the z-coordinate for each marker in an image by doing 
real space correlations along a line determined by the tilt direction. 
It then generates a projection image from the whole marker set at 
the nominal tilt angle and cross-correlates it with the image to 
find the shift. The process proceeds from the low-angle tilts to 
higher tilts in both directions, using the lower dependence of the 
low-tilt images on correct marker z-coordinates. This process is 
iterated (typically 2-5 times) until the change in z-coordinates drops
below one pixel on average or up to the maximum number of iterations. 
The resolution limits are used in the cross-correlations.
The shift limit prevents setting micrograph origin to far from the nominal origin.
The thickness determines the extent of searching for the z coordinate of a marker.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l00490">490</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a928229c9dba491e83496348eef50689c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928229c9dba491e83496348eef50689c">&#9670;&nbsp;</a></span>project_transfer_seed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int project_transfer_seed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rot_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rot_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rot_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hi_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lo_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfers the seed markers from the first to the second project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>project with seed markers in first field. </td></tr>
    <tr><td class="paramname">rot_start</td><td>starting rotation angle. </td></tr>
    <tr><td class="paramname">rot_end</td><td>final rotation angle. </td></tr>
    <tr><td class="paramname">rot_step</td><td>angular search step size. </td></tr>
    <tr><td class="paramname">hi_res</td><td>high resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">lo_res</td><td>low resolution limit for cross-correlation. </td></tr>
    <tr><td class="paramname">shift_limit</td><td>maximum micrograph shift to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int number of markers. <pre class="fragment">The markers from the first series are rotated around the micrograph
origin by the search angle. The markers are then used to generate
an image with synthetic markers, and this image is cross-correlated 
with the zero-tilt micrograph of the second series. The search angle
giving the best correlation coefficient is selected and the seed marker
locations for the second series are calculated.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l01544">1544</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
<a id="a6dd9a7ed8d8ed180387c718b1eeca140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dd9a7ed8d8ed180387c718b1eeca140">&#9670;&nbsp;</a></span>project_transform_dual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int project_transform_dual </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bproject.html">Bproject</a> *&#160;</td>
          <td class="paramname"><em>project</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the transformation of the second tilt series to fit the first. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*project</td><td>project with seed markers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int number of markers compared. <pre class="fragment">The 3D marker coordinates from the second series are fitted to those
of the first series to determine the rotation matrix and shifts.
The 3D marker locations and the micrograph orientations and origins
of the second series are then adkjusted to correspond to the first.
Restrictions: The first two fields should contain the two tilt series
and the first two reconstructions the corresponding 3D marker sets.
</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mg__tomo__track_8cpp_source.html#l01667">1667</a> of file <a class="el" href="mg__tomo__track_8cpp_source.html">mg_tomo_track.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="mg__tomo__track_8h.html">mg_tomo_track.h</a></li>
    <li class="footer">Generated on Wed Sep 1 2021 09:22:03 for Bsoft by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
