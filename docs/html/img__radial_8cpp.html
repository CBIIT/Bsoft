<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Bsoft: /usr/local/bsoft/src/img/img_radial.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Bsoft_icon128.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bsoft
   &#160;<span id="projectnumber">1.9</span>
   </div>
   <div id="projectbrief">Bernard&#39;s software package</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('img__radial_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">img_radial.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Library routines for radial transformations and calculations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="img__radial_8h_source.html">img_radial.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_matrix_8h_source.html">Matrix.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trigonometry_8h_source.html">trigonometry.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="simplex_8h_source.html">simplex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utilities_8h_source.html">utilities.h</a>&quot;</code><br />
</div>
<p><a href="img__radial_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aafa6102595308213641fbe7f2c7d8b5c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#aafa6102595308213641fbe7f2c7d8b5c">img_radial_R</a> (<a class="el" href="struct_bsimplex.html">Bsimplex</a> *simp)</td></tr>
<tr class="separator:aafa6102595308213641fbe7f2c7d8b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaffaf4a57bfe5dbf92d617487fa98997"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#aaffaf4a57bfe5dbf92d617487fa98997">img_radial</a> (<a class="el" href="class_bimage.html">Bimage</a> *p, double minrad, double maxrad, double rad_step, int wrap, double ellipticity, double angle, double threshold, <a class="el" href="class_bimage.html">Bimage</a> *pmask)</td></tr>
<tr class="memdesc:aaffaf4a57bfe5dbf92d617487fa98997"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the elliptical radial average or volume of an image.  <a href="#aaffaf4a57bfe5dbf92d617487fa98997">More...</a><br /></td></tr>
<tr class="separator:aaffaf4a57bfe5dbf92d617487fa98997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a26e55f0744973969a7629210a302b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#a22a26e55f0744973969a7629210a302b">img_radial_average</a> (<a class="el" href="class_bimage.html">Bimage</a> *p, int minrad, int maxrad, int wrap)</td></tr>
<tr class="separator:a22a26e55f0744973969a7629210a302b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70b1cbae44b527af7f2b5924ab298a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#ae70b1cbae44b527af7f2b5924ab298a6">img_radial_average</a> (<a class="el" href="class_bimage.html">Bimage</a> *p, double minrad, double maxrad, double rad_step, int wrap)</td></tr>
<tr class="memdesc:ae70b1cbae44b527af7f2b5924ab298a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the radial average of an image.  <a href="#ae70b1cbae44b527af7f2b5924ab298a6">More...</a><br /></td></tr>
<tr class="separator:ae70b1cbae44b527af7f2b5924ab298a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0e39cc5535ebc1adad5981823ed7a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#aba0e39cc5535ebc1adad5981823ed7a8">img_radial_average</a> (<a class="el" href="class_bimage.html">Bimage</a> *p, double minrad, double maxrad, double rad_step, int wrap, <a class="el" href="class_bimage.html">Bimage</a> *pmask)</td></tr>
<tr class="separator:aba0e39cc5535ebc1adad5981823ed7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eeee7a8d9a52415cdada9f8ce27c2e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#a6eeee7a8d9a52415cdada9f8ce27c2e5">img_elliptical_average</a> (<a class="el" href="class_bimage.html">Bimage</a> *p, int rmin, int rmax, double ellipticity, double ellipse_angle)</td></tr>
<tr class="memdesc:a6eeee7a8d9a52415cdada9f8ce27c2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the elliptical average of an image.  <a href="#a6eeee7a8d9a52415cdada9f8ce27c2e5">More...</a><br /></td></tr>
<tr class="separator:a6eeee7a8d9a52415cdada9f8ce27c2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a887b44e56053291ca12f877da2f91632"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#a887b44e56053291ca12f877da2f91632">img_directional_average</a> (<a class="el" href="class_bimage.html">Bimage</a> *p, double angle, double minrad, double maxrad, double rad_step)</td></tr>
<tr class="memdesc:a887b44e56053291ca12f877da2f91632"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the radial average of an image.  <a href="#a887b44e56053291ca12f877da2f91632">More...</a><br /></td></tr>
<tr class="separator:a887b44e56053291ca12f877da2f91632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d9e3a2e95d48dded9518deb9bd95eba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#a3d9e3a2e95d48dded9518deb9bd95eba">img_directional_average</a> (<a class="el" href="class_bimage.html">Bimage</a> *p, double angle, double minrad, double maxrad, double rad_step, <a class="el" href="class_bimage.html">Bimage</a> *pmask)</td></tr>
<tr class="separator:a3d9e3a2e95d48dded9518deb9bd95eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60587456292dc8f8954adef370f2d980"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#a60587456292dc8f8954adef370f2d980">img_radial_to_full</a> (<a class="el" href="class_bimage.html">Bimage</a> *prad, <a class="el" href="singleton_vector3.html">Vector3</a>&lt; int &gt; size, <a class="el" href="singleton_vector3.html">Vector3</a>&lt; float &gt; origin)</td></tr>
<tr class="memdesc:a60587456292dc8f8954adef370f2d980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a full 2D or 3D image from a radial profile in a 1D image.  <a href="#a60587456292dc8f8954adef370f2d980">More...</a><br /></td></tr>
<tr class="separator:a60587456292dc8f8954adef370f2d980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89642fc518df3b83328aa16b6195951e"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#a89642fc518df3b83328aa16b6195951e">img_radial_fit</a> (<a class="el" href="class_bimage.html">Bimage</a> *p, <a class="el" href="class_bimage.html">Bimage</a> *pref)</td></tr>
<tr class="memdesc:a89642fc518df3b83328aa16b6195951e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fits a radial profile to a reference radial profile.  <a href="#a89642fc518df3b83328aa16b6195951e">More...</a><br /></td></tr>
<tr class="separator:a89642fc518df3b83328aa16b6195951e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0b2caeb4b6f130be43e5a2f0267dd453"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="img__radial_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a></td></tr>
<tr class="separator:a0b2caeb4b6f130be43e5a2f0267dd453"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Library routines for radial transformations and calculations. </p>
<dl class="section author"><dt>Author</dt><dd>Bernard Heymann </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Created: 19990904 </dd>
<dd>
Modified: 20150508 </dd></dl>

<p>Definition in file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a887b44e56053291ca12f877da2f91632"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* img_directional_average </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rad_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the radial average of an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*p</td><td>3D image. </td></tr>
    <tr><td class="paramname">angle</td><td>direction angle. </td></tr>
    <tr><td class="paramname">minrad</td><td>minimum radius in angstrom. </td></tr>
    <tr><td class="paramname">maxrad</td><td>maximum radius in angstrom. </td></tr>
    <tr><td class="paramname">rad_step</td><td>step size in angstrom. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* radial directional averages in the form of a n x 2 image. <pre class="fragment">Radial averages parallel and perpendicular to a given direction defined 
by an angle in the xy plane is calculated between a minimum and maximum radius.  
An interpolative method is used where the value of 
a voxel is distributed between the two nearest radial annuli.
The final sum in an annulus is normalized by the number of voxels 
contributing to the annulus sum.
The origins within the sub-image structures are used.</pre> </dd></dl>

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00411">411</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3d9e3a2e95d48dded9518deb9bd95eba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* img_directional_average </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rad_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00417">417</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6eeee7a8d9a52415cdada9f8ce27c2e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* img_elliptical_average </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ellipticity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ellipse_angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the elliptical average of an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*p</td><td>2D image. </td></tr>
    <tr><td class="paramname">rmin</td><td>minimum radius in angstrom. </td></tr>
    <tr><td class="paramname">rmax</td><td>maximum radius in angstrom. </td></tr>
    <tr><td class="paramname">ellipticity</td><td>step size in angstrom. </td></tr>
    <tr><td class="paramname">ellipse_angle</td><td>wrapping around image boundaries. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* elliptical average in the form of a 1D image. <pre class="fragment">An elliptical average of a 2D image is calculated between a minimum
and maximum radius.  An interpolative method is used where the value of 
a voxel is distributed between the two nearest radial annuli.
The eeffective radius is:
    r = sqrt(x*x+y*y) * sqrt(ellmax*cos(a)*cos(a) + ellmin*sin(a)*sin(a))
    a = atan2(y,x) - ellipse_angle
    ellmin = 1 - ellipticity
    ellmax = 1 + ellipticity
The final sum in an annulus is normalized by the number of voxels 
contributing to the annulus sum.
The origins within the sub-image structures are used.</pre> </dd></dl>

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00320">320</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaffaf4a57bfe5dbf92d617487fa98997"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* img_radial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rad_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ellipticity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the elliptical radial average or volume of an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*p</td><td>image. </td></tr>
    <tr><td class="paramname">minrad</td><td>minimum radius in angstrom. </td></tr>
    <tr><td class="paramname">maxrad</td><td>maximum radius in angstrom. </td></tr>
    <tr><td class="paramname">rad_step</td><td>step size in angstrom. </td></tr>
    <tr><td class="paramname">wrap</td><td>wrapping around image boundaries. </td></tr>
    <tr><td class="paramname">ellipticity</td><td>ratio of major and minor axes. </td></tr>
    <tr><td class="paramname">angle</td><td>angle of major axis. </td></tr>
    <tr><td class="paramname">threshold</td><td>threshold above which the volume is included. </td></tr>
    <tr><td class="paramname">*pmask</td><td>mask defining the region to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* eliptical average in the form of a 1D image. <pre class="fragment">An elliptical radial average or volume of a 2D or 3D image is 
calculated between a minimum and maximum radius.
An interpolative method is used where the value of 
a voxel is distributed between the two nearest radial annuli.
When a threshold larger than the minimum in the image is specified, 
the volume above the threshold is counted.
The final sum in an annulus is normalized by the number of voxels 
contributing to the annulus sum.
The origins within the sub-image structures are used with or without wrapping.</pre> </dd></dl>

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00045">45</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a22a26e55f0744973969a7629210a302b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* img_radial_average </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00155">155</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae70b1cbae44b527af7f2b5924ab298a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* img_radial_average </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rad_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the radial average of an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*p</td><td>3D image. </td></tr>
    <tr><td class="paramname">minrad</td><td>minimum radius in angstrom. </td></tr>
    <tr><td class="paramname">maxrad</td><td>maximum radius in angstrom. </td></tr>
    <tr><td class="paramname">rad_step</td><td>step size in angstrom. </td></tr>
    <tr><td class="paramname">wrap</td><td>wrapping around image boundaries. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* radial average in the form of a 1D image. <pre class="fragment">A radial average of a 2D or 3D image is calculated between a minimum
and maximum radius.  An interpolative method is used where the value of 
a voxel is distributed between the two nearest radial annuli.
The final sum in an annulus is normalized by the number of voxels 
contributing to the annulus sum.
The origins within the sub-image structures are used.</pre> </dd></dl>

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00177">177</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aba0e39cc5535ebc1adad5981823ed7a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* img_radial_average </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rad_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00183">183</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a89642fc518df3b83328aa16b6195951e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float* img_radial_fit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>pref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fits a radial profile to a reference radial profile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*p</td><td>radial profile as a 1D image. </td></tr>
    <tr><td class="paramname">*pref</td><td>reference radial profile as a 1D image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float* 3-value result vector: dimension scale, amplitude scale and amplitude shift. <pre class="fragment">A radial profile is fitted to a reference profile using an iterative
simplex down-hill method.  The equations solved are:
    x(new) = x(old)*m
    y(new) = y(old)*a + b
where   m is the dimension scaling (or magnification).
        a is the amplitude scaling.
        b is the amplitude shift.</pre> </dd></dl>

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00598">598</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aafa6102595308213641fbe7f2c7d8b5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double img_radial_R </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsimplex.html">Bsimplex</a> *&#160;</td>
          <td class="paramname"><em>simp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00694">694</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a60587456292dc8f8954adef370f2d980"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bimage.html">Bimage</a>* img_radial_to_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bimage.html">Bimage</a> *&#160;</td>
          <td class="paramname"><em>prad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="singleton_vector3.html">Vector3</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="singleton_vector3.html">Vector3</a>&lt; float &gt;&#160;</td>
          <td class="paramname"><em>origin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a full 2D or 3D image from a radial profile in a 1D image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*prad</td><td>1D radial image. </td></tr>
    <tr><td class="paramname">size</td><td>size of image to expand to. </td></tr>
    <tr><td class="paramname">origin</td><td>origin for radial profile. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bimage* new 2D or 3D image. <pre class="fragment">It assumes the resultant image is square or cubic.</pre> </dd></dl>

<p>Definition at line <a class="el" href="img__radial_8cpp_source.html#l00525">525</a> of file <a class="el" href="img__radial_8cpp_source.html">img_radial.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a0b2caeb4b6f130be43e5a2f0267dd453"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int verbose</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_7673ec780970b264223275c6ce2fb0e1.html">img</a></li><li class="navelem"><a class="el" href="img__radial_8cpp.html">img_radial.cpp</a></li>
    <li class="footer">Generated on Fri Aug 7 2015 17:03:21 for Bsoft by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
