<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Bsoft: /usr/local/bsoft/src/img/img_mask.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Bsoft_icon128.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bsoft
   &#160;<span id="projectnumber">1.9</span>
   </div>
   <div id="projectbrief">Bernard&#39;s software package</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('img__mask_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">img_mask.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="img__mask_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="img__mask_8h.html">img_mask.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="img__filter_8h.html">img_filter.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="img__combine_8h.html">img_combine.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_complex_8h.html">Complex.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trigonometry_8h.html">trigonometry.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utilities_8h.html">utilities.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// Declaration of global variables</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span>  <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a>;        <span class="comment">// Level of output to the screen</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="img__mask_8cpp.html#af0f93c29d1a6105d99a530f0ce01a8fa">   31</a></span>&#160;<span class="keywordtype">int</span>         <a class="code" href="img__mask_8cpp.html#af0f93c29d1a6105d99a530f0ce01a8fa">img_plane_mask</a>(<a class="code" href="class_bimage.html">Bimage</a>* p, <a class="code" href="singleton_vector3.html">Vector3&lt;float&gt;</a> origin, <a class="code" href="singleton_vector3.html">Vector3&lt;float&gt;</a> normal, <span class="keywordtype">int</span> operation)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    normal.<a class="code" href="singleton_vector3.html#aba4bd5a032489bb77d4a629573b5c018">normalize</a>();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   i, n, x, y, z, total = 0;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   datasize = p-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>()*p-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>()*p-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>()*p-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="singleton_vector3.html">Vector3&lt;float&gt;</a>  point;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="class_bimage.html">Bimage</a>*         pmask = p-&gt;<a class="code" href="class_bimage.html#a743633e6ef75cd6c5a10964cad2db5c6">copy_header</a>();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#a3f8daaa394b40c3d3fec19e544125e5c">data_type</a>(<a class="code" href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6a5e92d32301c87c8da2699f0845956b29">UCharacter</a>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*  mask = pmask-&gt;<a class="code" href="class_bimage.html#a6095bea1f7ef723790ce2747a51402be">data_alloc</a>(datasize);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; <a class="code" href="utilities_8h.html#a3ec4c8077243973556b13ff308e3b93e">VERB_PROCESS</a> ) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Generating a planar mask:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Normal:                         &quot;</span> &lt;&lt; normal &lt;&lt; endl;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Point on plane:                 &quot;</span> &lt;&lt; origin &lt;&lt; endl;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">for</span> ( i=n=0; n&lt;p-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>(); n++ ) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">for</span> ( z=0; z&lt;p-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>(); z++ ) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            point[2] = z - origin.<a class="code" href="singleton_vector3.html#a8f6cd8bcc15a3e42dd03037a535dc62a">z</a>();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordflow">for</span> ( y=0; y&lt;p-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>(); y++ ) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                point[1] = y - origin.<a class="code" href="singleton_vector3.html#a1c63a9bf59141df56a51d34a19fa79f7">y</a>();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="keywordflow">for</span> ( x=0; x&lt;p-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>(); x++, i++ ) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                    point[0] = x - origin.<a class="code" href="singleton_vector3.html#a8354ed65698ad8e26def9a18493409a2">x</a>();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    <span class="keywordflow">if</span> ( normal.<a class="code" href="singleton_vector3.html#aeeecbd3f051852a5635c406dbd10c76b">scalar</a>(point) &gt; 0 ) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                        mask[i] = 1;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                        total++;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    p-&gt;<a class="code" href="class_bimage.html#a4a9cf8f23889bcd405318cf88ff629c9">mask_combine</a>(pmask, operation);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keyword">delete</span> pmask;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; VERB_PROCESS )</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Number of pixels in mask:       &quot;</span> &lt;&lt; total &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="img__mask_8cpp.html#a0253b2e4d554644bfee0866ab102a5ba">   90</a></span>&#160;<span class="keywordtype">int</span>         <a class="code" href="img__mask_8cpp.html#a0253b2e4d554644bfee0866ab102a5ba">img_rectangular_mask</a>(<a class="code" href="class_bimage.html">Bimage</a>* p, <span class="keywordtype">float</span> length, <span class="keywordtype">float</span> width, </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <span class="keywordtype">float</span> rect_angle, <span class="keywordtype">int</span> wrap, <span class="keywordtype">int</span> operation)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> ( !p ) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    p-&gt;<a class="code" href="class_bimage.html#aaf2848239c21e111b23b87b4c2a95dd5">change_type</a>(<a class="code" href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6a5e92d32301c87c8da2699f0845956b29">UCharacter</a>) ;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; ( <a class="code" href="utilities_8h.html#a0472bdfea57c833b4eaba94f1ee0b781">VERB_LABEL</a> | <a class="code" href="utilities_8h.html#a3ec4c8077243973556b13ff308e3b93e">VERB_PROCESS</a> ) )</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Generating a mask along an axis&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; <a class="code" href="utilities_8h.html#a3ec4c8077243973556b13ff308e3b93e">VERB_PROCESS</a> ) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Length and width:               &quot;</span> &lt;&lt; length &lt;&lt; <span class="stringliteral">&quot; x &quot;</span> &lt;&lt; width &lt;&lt; <span class="stringliteral">&quot; pixels&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Axis angle:                     &quot;</span> &lt;&lt; rect_angle*180.0/<a class="code" href="utilities_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> &lt;&lt; <span class="stringliteral">&quot; degrees&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   i, n, x, y, z, total = 0;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">double</span>          xx, yy, xr, yr;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">double</span>          cos_ang = <a class="code" href="trigonometry_8h.html#a8eace5e046a403ec13888aa0613e327b">bcos</a>(rect_angle), sin_ang = <a class="code" href="trigonometry_8h.html#a22cafaccee10ea8dc961efbffa7850a3">bsin</a>(rect_angle);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">double</span>          half_length = length/2.0, half_width = width/2.0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   datasize = p-&gt;<a class="code" href="class_bimage.html#a18aa76f7e83a259bffcd657493ee54f8">data_size</a>();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="class_bimage.html">Bimage</a>*         pmask = p-&gt;<a class="code" href="class_bimage.html#a743633e6ef75cd6c5a10964cad2db5c6">copy_header</a>();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#a3f8daaa394b40c3d3fec19e544125e5c">data_type</a>(<a class="code" href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6a5e92d32301c87c8da2699f0845956b29">UCharacter</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*  mask = pmask-&gt;<a class="code" href="class_bimage.html#a6095bea1f7ef723790ce2747a51402be">data_alloc</a>(datasize);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">for</span> ( n=0; n&lt;p-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>(); n++ ) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">for</span> ( z=0; z&lt;p-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>(); z++ ) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keywordflow">for</span> ( y=0; y&lt;p-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>(); y++ ) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                yy = y - p-&gt;<a class="code" href="class_bimage.html#a4c3d90a7e963c8fb653f825eb139b045">image</a>[n].<a class="code" href="class_bsub__image.html#a3d549f2361903b77f85fe47eed978c17">origin</a>().y();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <span class="keywordflow">if</span> ( wrap ) <span class="keywordflow">if</span> ( yy &gt; (p-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>() - 1)/2 ) yy -= p-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="keywordflow">for</span> ( x=0; x&lt;p-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>(); x++ ) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    xx = x - p-&gt;<a class="code" href="class_bimage.html#a4c3d90a7e963c8fb653f825eb139b045">image</a>[n].<a class="code" href="class_bsub__image.html#a3d549f2361903b77f85fe47eed978c17">origin</a>().x();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    <span class="keywordflow">if</span> ( wrap ) <span class="keywordflow">if</span> ( xx &gt; (p-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>() - 1)/2 ) xx -= p-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    xr = xx*cos_ang + yy*sin_ang;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    yr = -xx*sin_ang + yy*cos_ang;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <span class="keywordflow">if</span> ( xr &gt;= -half_length &amp;&amp; xr &lt;= half_length &amp;&amp; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                            yr &gt;= -half_width &amp;&amp; yr &lt;= half_width ) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">//                      i = ((n*p-&gt;sizeZ() + z)*p-&gt;sizeY() + y)*p-&gt;sizeX() + x;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                        i = p-&gt;<a class="code" href="class_bimage.html#a6e423c819446299533d2aff08b3ea8e8">index</a>(0,x,y,z,n);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                        mask[i] = 1;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                        total++;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    p-&gt;<a class="code" href="class_bimage.html#a4a9cf8f23889bcd405318cf88ff629c9">mask_combine</a>(pmask, operation);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keyword">delete</span> pmask;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; VERB_PROCESS )</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Number of pixels in mask:       &quot;</span> &lt;&lt; total &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="img__mask_8cpp.html#adb9fbcd36bee915dd90bcdaef147d578">  156</a></span>&#160;<a class="code" href="class_bimage.html">Bimage</a>*     <a class="code" href="img__mask_8cpp.html#adb9fbcd36bee915dd90bcdaef147d578">img_composite_mask</a>(<span class="keywordtype">int</span> nfiles, <a class="code" href="class_bstring.html">Bstring</a>* file_list, <span class="keywordtype">int</span> mask_type)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> ( !file_list ) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordtype">int</span>                 <a class="code" href="jpeglib_8h.html#aa0ccb5ee6d882ee3605ff47745c6467b">val</a>, bit, base_bit, base_level, max_level;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       i, j, n, nf;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="singleton_vector3.html">Vector3&lt;double&gt;</a>     sampling(1,1,1);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="class_bstring.html">Bstring</a>*            filename;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="class_bimage.html">Bimage</a>*             p = NULL;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="class_bimage.html">Bimage</a>*             pmask = <span class="keyword">new</span> <a class="code" href="class_bimage.html">Bimage</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">for</span> ( nf=0, filename = file_list; filename &amp;&amp; nf&lt;nfiles; filename = filename-&gt;<a class="code" href="class_bstring.html#a45a1baecd5b35d440905a2c14eead185">next</a>, nf++ ) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        p = <a class="code" href="rwimg_8h.html#aaec50c2f5359f48b9dadb444aeb7ae5c">read_img</a>(*filename, 0, -1);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> ( p != NULL ) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">if</span> ( pmask-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>() &lt; p-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>() ) pmask-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>(p-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>());</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">if</span> ( pmask-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>() &lt; p-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>() ) pmask-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>(p-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>());</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">if</span> ( pmask-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>() &lt; p-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>() ) pmask-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>(p-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>());</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">if</span> ( pmask-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>() &lt; p-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>() ) pmask-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>(p-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>());</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">if</span> ( nf == 0 ) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">if</span> ( p-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().x() &gt; 0 ) sampling[0] = p-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().x();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">if</span> ( p-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().y() &gt; 0 ) sampling[1] = p-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().y();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">if</span> ( p-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().z() &gt; 0 ) sampling[2] = p-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().z();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keyword">delete</span> p;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>(sampling);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> ) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">if</span> ( mask_type == 2 )</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Generating a multi-bit mask from &quot;</span> &lt;&lt; nfiles &lt;&lt; <span class="stringliteral">&quot; images:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Generating a multi-level mask from &quot;</span> &lt;&lt; nfiles &lt;&lt; <span class="stringliteral">&quot; images:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; <a class="code" href="utilities_8h.html#a3ec4c8077243973556b13ff308e3b93e">VERB_PROCESS</a> )</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;New mask size:                  &quot;</span> &lt;&lt; pmask-&gt;<a class="code" href="class_bimage.html#a9520a6f42f1899c071cb75dc5ce63e17">size</a>() &lt;&lt; endl;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       imgsize = pmask-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>()*pmask-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>()*pmask-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#a3f8daaa394b40c3d3fec19e544125e5c">data_type</a>(<a class="code" href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6a1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#a6095bea1f7ef723790ce2747a51402be">data_alloc</a>();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#a4c3d90a7e963c8fb653f825eb139b045">image</a> = <span class="keyword">new</span> <a class="code" href="class_bsub__image.html">Bsub_image</a>[pmask-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>()];</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">for</span> ( nf=0, base_bit=0, base_level=max_level=0, filename = file_list; filename &amp;&amp; nf&lt;nfiles; filename = filename-&gt;<a class="code" href="class_bstring.html#a45a1baecd5b35d440905a2c14eead185">next</a>, nf++ ) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        p = <a class="code" href="rwimg_8h.html#aaec50c2f5359f48b9dadb444aeb7ae5c">read_img</a>(*filename, 1, -1);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">if</span> ( p != NULL ) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; <a class="code" href="utilities_8h.html#a0472bdfea57c833b4eaba94f1ee0b781">VERB_LABEL</a> )</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                cout &lt;&lt; <span class="stringliteral">&quot;Adding mask &quot;</span> &lt;&lt; nf &lt;&lt; endl;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            p-&gt;<a class="code" href="class_bimage.html#aaf2848239c21e111b23b87b4c2a95dd5">change_type</a>(<a class="code" href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6ad67b0ee7230dcecb610254e4e5e589cd">Float</a>) ;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keywordflow">for</span> ( n=j=0; n&lt;p-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>(); n++ ) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                pmask-&gt;<a class="code" href="class_bimage.html#a4c3d90a7e963c8fb653f825eb139b045">image</a>[n].<a class="code" href="class_bsub__image.html#a3d549f2361903b77f85fe47eed978c17">origin</a>(p-&gt;<a class="code" href="class_bimage.html#a4c3d90a7e963c8fb653f825eb139b045">image</a>[n].<a class="code" href="class_bsub__image.html#a3d549f2361903b77f85fe47eed978c17">origin</a>());</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                <span class="keywordflow">for</span> ( i=0; i&lt;imgsize; i++, j++ ) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    <span class="keywordflow">if</span> ( (*p)[j] &gt; 0.5 ) {      <span class="comment">// What is zero stay whatever it currently is</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                        val = (int) ((*p)[j] + 0.5);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                        <span class="keywordflow">if</span> ( mask_type == 2 ) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                            bit = <a class="code" href="jpeglib_8h.html#aa0ccb5ee6d882ee3605ff47745c6467b">val</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                            <span class="keywordflow">if</span> ( base_bit &gt; 0 ) bit &lt;&lt;= base_bit;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                            pmask-&gt;<a class="code" href="class_bimage.html#a10e8730d845b7d0f19536f31385b37b0">set</a>(j, (<span class="keywordtype">char</span>)(*pmask)[j] | bit);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                            pmask-&gt;<a class="code" href="class_bimage.html#a10e8730d845b7d0f19536f31385b37b0">set</a>(j, base_level + val);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <span class="keywordflow">if</span> ( max_level &lt; (*pmask)[j] ) max_level = (int) (*pmask)[j];</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keyword">delete</span> p;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">for</span> ( base_bit = 0, val = max_level; val &gt; 0; val &gt;&gt;= 1, base_bit++ ) ; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            base_level = max_level;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#a56d3025f915d203d87c7656ec0b63f37">statistics</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> pmask; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="img__mask_8cpp.html#a521a1857bef574839169f99800eb950a">  248</a></span>&#160;<span class="keywordtype">int</span>*        <a class="code" href="img__mask_8cpp.html#a521a1857bef574839169f99800eb950a">img_mask_interface_matrix</a>(<a class="code" href="class_bimage.html">Bimage</a>* pmask, <span class="keywordtype">int</span> img_num, <span class="keywordtype">int</span>* nmat)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#aaf2848239c21e111b23b87b4c2a95dd5">change_type</a>(<a class="code" href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6a1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   ns = img_num, ne = img_num;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> ( img_num &lt; 0 ) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        ns = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        ne = pmask-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>() - 1;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   i, j, k, x, y, z, n, xx, yy, zz, m;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   xlo, xhi, ylo, yhi, zlo, zhi;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   imgsize = pmask-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>()*pmask-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>()*pmask-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   datasize = imgsize*pmask-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">for</span> ( i=m=0; i&lt;datasize; i++ ) <span class="keywordflow">if</span> ( m &lt; (*pmask)[i] ) m = (<span class="keywordtype">unsigned</span> long) (*pmask)[i];</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    m++;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    *nmat = m;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">int</span>*            tmp = <span class="keyword">new</span> <span class="keywordtype">int</span>[m];</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">int</span>*            ifmat = <span class="keyword">new</span> <span class="keywordtype">int</span>[m*m];</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">for</span> ( j=0; j&lt;m*m; j++ ) ifmat[j] = 0;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">for</span> ( n=ns, i=n*imgsize; n&lt;=ne; n++ ) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">for</span> ( z=0; z&lt;pmask-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>(); z++ ) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            zlo = (z&gt;0)? z-1: z;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            zhi = (z&lt;pmask-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>()-1)? z+1: z;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">for</span> ( y=0; y&lt;pmask-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>(); y++ ) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                ylo = (y&gt;0)? y-1: y;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                yhi = (y&lt;pmask-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>()-1)? y+1: y;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keywordflow">for</span> ( x=0; x&lt;pmask-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>(); x++, i++ ) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    xlo = (x&gt;0)? x-1: x;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    xhi = (x&lt;pmask-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>()-1)? x+1: x;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <span class="keywordflow">if</span> ( (*pmask)[i] &gt;= 0 ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        <span class="keywordflow">for</span> ( j=0; j&lt;m; j++ ) tmp[j] = 0;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        <span class="keywordflow">for</span> ( zz=zlo; zz&lt;=zhi; zz++ ) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                            <span class="keywordflow">for</span> ( yy=ylo; yy&lt;=yhi; yy++ ) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                <span class="keywordflow">for</span> ( xx=xlo; xx&lt;=xhi; xx++ ) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">//                                  j = ((n*pmask-&gt;sizeZ() + zz)*pmask-&gt;y + yy)*pmask-&gt;x + xx;</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                    j = pmask-&gt;<a class="code" href="class_bimage.html#a6e423c819446299533d2aff08b3ea8e8">index</a>(0,xx,yy,zz,n);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                    <span class="keywordflow">if</span> ( (*pmask)[i] != (*pmask)[j] &amp;&amp; (*pmask)[j] &gt;= 0 )</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                        tmp[(int)(*pmask)[j]] = 1;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                            }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        <span class="keywordflow">for</span> ( j=0, k=(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(*pmask)[i]*m+j; j&lt;m; j++, k++ )</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                            <span class="keywordflow">if</span> ( tmp[j] ) ifmat[k] += 1;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keyword">delete</span>[] tmp;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> ifmat;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="img__mask_8cpp.html#a7bb5fdcebef0c8a0699b806f7e52a554">  318</a></span>&#160;<span class="keywordtype">int</span>         <a class="code" href="img__mask_8cpp.html#a7bb5fdcebef0c8a0699b806f7e52a554">img_mask_region_interfaces</a>(<a class="code" href="class_bimage.html">Bimage</a>* pmask, <span class="keywordtype">int</span> reg_num)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordtype">int</span>         i, j, k, l, m, nadj = 0;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">int</span>*        ifmat = <a class="code" href="img__mask_8cpp.html#a521a1857bef574839169f99800eb950a">img_mask_interface_matrix</a>(pmask, 0, &amp;m);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> ( reg_num &gt;= 0 ) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Interfaces for region &quot;</span> &lt;&lt; reg_num &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Region\tVin\tVadj&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">for</span> ( i=0, k=m*reg_num+i, l=i*m+reg_num; i&lt;m; i++, k++, l+=m ) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            cout &lt;&lt; i &lt;&lt; <a class="code" href="utilities_8h.html#a243b53ba9107e16b3efffbe709b86085">tab</a> &lt;&lt; ifmat[k] &lt;&lt; <a class="code" href="utilities_8h.html#a243b53ba9107e16b3efffbe709b86085">tab</a> &lt;&lt; ifmat[l] &lt;&lt; endl;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">if</span> ( i &amp;&amp; ifmat[k] ) nadj++;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        cout &lt;&lt; endl;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Interfaced regions:             &quot;</span> &lt;&lt; nadj &lt;&lt; endl;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Interface matrix:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">//      if ( verbose &amp; VERB_FULL ) {</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Region&quot;</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">for</span> ( i=0; i&lt;m; i++ ) cout &lt;&lt; <a class="code" href="utilities_8h.html#a243b53ba9107e16b3efffbe709b86085">tab</a> &lt;&lt; i;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            cout &lt;&lt; endl;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">for</span> ( j=0; j&lt;m; j++ ) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                cout &lt;&lt; j;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">for</span> ( i=0, k=m*j+i; i&lt;m; i++, k++ ) cout &lt;&lt; <a class="code" href="utilities_8h.html#a243b53ba9107e16b3efffbe709b86085">tab</a> &lt;&lt; ifmat[k];</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                cout &lt;&lt; endl;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    cout &lt;&lt; endl;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">delete</span>[] ifmat;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="img__mask_8cpp.html#ac61ea752b16607ba9e9c391288575f16">  370</a></span>&#160;<span class="keywordtype">int</span>         <a class="code" href="img__mask_8cpp.html#ac61ea752b16607ba9e9c391288575f16">img_mask_merge_delete</a>(<a class="code" href="class_bimage.html">Bimage</a>* pmask, <span class="keywordtype">int</span> min_size, <span class="keywordtype">int</span> min_if)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;{</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> ( min_if &lt; 1 ) min_if = 1;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    pmask-&gt;<a class="code" href="class_bimage.html#aaf2848239c21e111b23b87b4c2a95dd5">change_type</a>(<a class="code" href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6a1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   i, j, k, l, nm, nd, end, n;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   imgsize = pmask-&gt;<a class="code" href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">sizeX</a>()*pmask-&gt;<a class="code" href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">sizeY</a>()*pmask-&gt;<a class="code" href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">sizeZ</a>();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   datasize = imgsize*pmask-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">int</span>             m, imax, max;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">for</span> ( i=m=0; i&lt;datasize; i++ ) <span class="keywordflow">if</span> ( m &lt; (*pmask)[i] ) m = (int)(*pmask)[i];</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    m++;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordtype">int</span>*            cnt = <span class="keyword">new</span> <span class="keywordtype">int</span>[m];</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordtype">int</span>*            map = <span class="keyword">new</span> <span class="keywordtype">int</span>[m];</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">int</span>*            ifmat;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> ) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Eliminating small regions by deletion and merging:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Minimum size:                   &quot;</span> &lt;&lt; min_size &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; pmask-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().volume()*min_size &lt;&lt; <span class="stringliteral">&quot; A3)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Minimum interface area:         &quot;</span> &lt;&lt; min_if &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; pmask-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().x()*pmask-&gt;<a class="code" href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">sampling</a>().y()*min_if &lt;&lt; <span class="stringliteral">&quot; A2)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Regions:                        &quot;</span> &lt;&lt; m &lt;&lt; endl;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">for</span> ( n=0; n&lt;pmask-&gt;<a class="code" href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">images</a>(); n++ ) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        ifmat = <a class="code" href="img__mask_8cpp.html#a521a1857bef574839169f99800eb950a">img_mask_interface_matrix</a>(pmask, n, &amp;m);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">for</span> ( j=0; j&lt;m; j++ ) cnt[j] = 0;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">for</span> ( i=n*imgsize, j=i+imgsize; i&lt;j; i++ ) cnt[(<span class="keywordtype">int</span>)(*pmask)[i]] += 1;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; <a class="code" href="utilities_8h.html#a7a792b864363d93aa719ee663b140f16">VERB_FULL</a> ) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Region&quot;</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">for</span> ( k=1; k&lt;m; k++ ) cout &lt;&lt; <a class="code" href="utilities_8h.html#a243b53ba9107e16b3efffbe709b86085">tab</a> &lt;&lt; k;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            cout &lt;&lt; endl;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordflow">for</span> ( j=1; j&lt;m; j++ ) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                cout &lt;&lt; j;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keywordflow">for</span> ( k=1, l=m*j+k; k&lt;m; k++, l++ ) cout &lt;&lt; <a class="code" href="utilities_8h.html#a243b53ba9107e16b3efffbe709b86085">tab</a> &lt;&lt; ifmat[l];</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                cout &lt;&lt; endl;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">for</span> ( j=1; j&lt;m; j++ ) {     <span class="comment">// Find the largest interface for small regions</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            map[j] = j;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">if</span> ( cnt[j] &lt; min_size ) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                max = min_if;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keywordflow">if</span> ( max &gt; cnt[j]/2 ) max = cnt[j]/2;   <span class="comment">// Change the interface cutoff for really small regions</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="keywordflow">if</span> ( max &lt; 1 ) max = 1;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <span class="keywordflow">for</span> ( k=1, l=m*j+k, imax=0; k&lt;m; k++, l++ ) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    <span class="keywordflow">if</span> ( max &lt;= ifmat[l] ) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        max = ifmat[l];</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                        imax = k;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                map[j] = imax;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keyword">delete</span>[] ifmat;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; VERB_FULL ) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Region\tPointer&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">for</span> ( j=1; j&lt;m; j++ ) cout &lt;&lt; j &lt;&lt; <a class="code" href="utilities_8h.html#a243b53ba9107e16b3efffbe709b86085">tab</a> &lt;&lt; map[j] &lt;&lt; endl;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">for</span> ( j=1; j&lt;m; j++ ) <span class="keywordflow">if</span> ( map[j] != j ) {  <span class="comment">// Resolve linked references</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordflow">for</span> ( k=1, cnt[0] = j, end=0; k&lt;m &amp;&amp; end==0; k++ ) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                cnt[k] = map[cnt[k-1]];</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">for</span> ( l=0; l&lt;k &amp;&amp; cnt[k] != cnt[l]; l++ ) ; <span class="comment">// Detect loops and self-reference</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="keywordflow">if</span> ( l &lt; k ) {      <span class="comment">// Set new references</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    end = cnt[k];</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    <span class="keywordflow">for</span> ( l=0; l&lt;k; l++ ) map[cnt[l]] = end;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">for</span> ( j=1, nm=nd=0; j&lt;m; j++ ) {        <span class="comment">// Re-assign small regions</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">if</span> ( map[j] != j ) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="keywordflow">if</span> ( map[j] &lt; 1 ) nd++;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                <span class="keywordflow">for</span> ( k=0, l=n*imgsize; k&lt;imgsize; k++, l++ )</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    <span class="keywordflow">if</span> ( (<span class="keywordtype">int</span>)(*pmask)[l] == j ) pmask-&gt;<a class="code" href="class_bimage.html#a10e8730d845b7d0f19536f31385b37b0">set</a>(l, map[j]);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> &amp; VERB_FULL )</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    cout &lt;&lt; j &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; map[j] &lt;&lt; endl;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            } <span class="keywordflow">else</span> nm++;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> ) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;New regions:                    &quot;</span> &lt;&lt; nm &lt;&lt; endl;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Regions deleted:                &quot;</span> &lt;&lt; nd &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keyword">delete</span>[] cnt;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keyword">delete</span>[] map;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="ttc" id="class_bimage_html_aaf2848239c21e111b23b87b4c2a95dd5"><div class="ttname"><a href="class_bimage.html#aaf2848239c21e111b23b87b4c2a95dd5">Bimage::change_type</a></div><div class="ttdeci">void change_type(char letter)</div><div class="ttdoc">Get the data type indicated by a single letter code. </div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8cpp_source.html#l01438">Bimage.cpp:1438</a></div></div>
<div class="ttc" id="singleton_vector3_html_a8f6cd8bcc15a3e42dd03037a535dc62a"><div class="ttname"><a href="singleton_vector3.html#a8f6cd8bcc15a3e42dd03037a535dc62a">Vector3::z</a></div><div class="ttdeci">Type z()</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8h_source.html#l00141">Vector3.h:141</a></div></div>
<div class="ttc" id="class_bimage_html_a80c211fa9b0e58f9a567e10fa608f079"><div class="ttname"><a href="class_bimage.html#a80c211fa9b0e58f9a567e10fa608f079">Bimage::sizeZ</a></div><div class="ttdeci">void sizeZ(size_t nz)</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00330">Bimage.h:330</a></div></div>
<div class="ttc" id="class_bimage_html_a743633e6ef75cd6c5a10964cad2db5c6"><div class="ttname"><a href="class_bimage.html#a743633e6ef75cd6c5a10964cad2db5c6">Bimage::copy_header</a></div><div class="ttdeci">Bimage * copy_header()</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00502">Bimage.h:502</a></div></div>
<div class="ttc" id="img__mask_8cpp_html_a521a1857bef574839169f99800eb950a"><div class="ttname"><a href="img__mask_8cpp.html#a521a1857bef574839169f99800eb950a">img_mask_interface_matrix</a></div><div class="ttdeci">int * img_mask_interface_matrix(Bimage *pmask, int img_num, int *nmat)</div><div class="ttdoc">Calculates the interfaces between regions. </div><div class="ttdef"><b>Definition:</b> <a href="img__mask_8cpp_source.html#l00248">img_mask.cpp:248</a></div></div>
<div class="ttc" id="trigonometry_8h_html_a8eace5e046a403ec13888aa0613e327b"><div class="ttname"><a href="trigonometry_8h.html#a8eace5e046a403ec13888aa0613e327b">bcos</a></div><div class="ttdeci">double bcos(double x)</div><div class="ttdoc">Avoid non-zero values for cos(PI/2) and cos(-PI/2). </div><div class="ttdef"><b>Definition:</b> <a href="trigonometry_8cpp_source.html#l00027">trigonometry.cpp:27</a></div></div>
<div class="ttc" id="class_bsub__image_html"><div class="ttname"><a href="class_bsub__image.html">Bsub_image</a></div><div class="ttdoc">General sub-image parameter class. </div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00100">Bimage.h:100</a></div></div>
<div class="ttc" id="utilities_8h_html"><div class="ttname"><a href="utilities_8h.html">utilities.h</a></div><div class="ttdoc">Header file for general utilities. </div></div>
<div class="ttc" id="img__mask_8h_html"><div class="ttname"><a href="img__mask_8h.html">img_mask.h</a></div><div class="ttdoc">Header file for mask operation tools. </div></div>
<div class="ttc" id="img__mask_8cpp_html_ac61ea752b16607ba9e9c391288575f16"><div class="ttname"><a href="img__mask_8cpp.html#ac61ea752b16607ba9e9c391288575f16">img_mask_merge_delete</a></div><div class="ttdeci">int img_mask_merge_delete(Bimage *pmask, int min_size, int min_if)</div><div class="ttdoc">Calculates the interfaces between regions and deletes/merges small ones. </div><div class="ttdef"><b>Definition:</b> <a href="img__mask_8cpp_source.html#l00370">img_mask.cpp:370</a></div></div>
<div class="ttc" id="_complex_8h_html"><div class="ttname"><a href="_complex_8h.html">Complex.h</a></div><div class="ttdoc">Class for complex numbers. </div></div>
<div class="ttc" id="img__mask_8cpp_html_a0253b2e4d554644bfee0866ab102a5ba"><div class="ttname"><a href="img__mask_8cpp.html#a0253b2e4d554644bfee0866ab102a5ba">img_rectangular_mask</a></div><div class="ttdeci">int img_rectangular_mask(Bimage *p, float length, float width, float rect_angle, int wrap, int operation)</div><div class="ttdoc">Generates a mask along an axis within a 2D image. </div><div class="ttdef"><b>Definition:</b> <a href="img__mask_8cpp_source.html#l00090">img_mask.cpp:90</a></div></div>
<div class="ttc" id="_bimage_8h_html_ad8ed01ff3ff33333d8e19db4d2818bb6ad67b0ee7230dcecb610254e4e5e589cd"><div class="ttname"><a href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6ad67b0ee7230dcecb610254e4e5e589cd">Float</a></div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00060">Bimage.h:60</a></div></div>
<div class="ttc" id="singleton_vector3_html"><div class="ttname"><a href="singleton_vector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="utilities_8h_html_a3ec4c8077243973556b13ff308e3b93e"><div class="ttname"><a href="utilities_8h.html#a3ec4c8077243973556b13ff308e3b93e">VERB_PROCESS</a></div><div class="ttdeci">#define VERB_PROCESS</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8h_source.html#l00099">utilities.h:99</a></div></div>
<div class="ttc" id="class_bimage_html_a6e423c819446299533d2aff08b3ea8e8"><div class="ttname"><a href="class_bimage.html#a6e423c819446299533d2aff08b3ea8e8">Bimage::index</a></div><div class="ttdeci">size_t index(size_t nx, size_t ny)</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00334">Bimage.h:334</a></div></div>
<div class="ttc" id="class_bimage_html_a56d3025f915d203d87c7656ec0b63f37"><div class="ttname"><a href="class_bimage.html#a56d3025f915d203d87c7656ec0b63f37">Bimage::statistics</a></div><div class="ttdeci">size_t statistics()</div><div class="ttdoc">Calculates the statistics for an image. </div><div class="ttdef"><b>Definition:</b> <a href="_bimage__stats_8cpp_source.html#l00022">Bimage_stats.cpp:22</a></div></div>
<div class="ttc" id="trigonometry_8h_html_a22cafaccee10ea8dc961efbffa7850a3"><div class="ttname"><a href="trigonometry_8h.html#a22cafaccee10ea8dc961efbffa7850a3">bsin</a></div><div class="ttdeci">double bsin(double x)</div><div class="ttdoc">Avoid non-zero values for sin(PI) and sin(-PI). </div><div class="ttdef"><b>Definition:</b> <a href="trigonometry_8cpp_source.html#l00048">trigonometry.cpp:48</a></div></div>
<div class="ttc" id="class_bimage_html"><div class="ttname"><a href="class_bimage.html">Bimage</a></div><div class="ttdoc">General image parameter class. </div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00153">Bimage.h:153</a></div></div>
<div class="ttc" id="_bimage_8h_html_ad8ed01ff3ff33333d8e19db4d2818bb6a5e92d32301c87c8da2699f0845956b29"><div class="ttname"><a href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6a5e92d32301c87c8da2699f0845956b29">UCharacter</a></div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00052">Bimage.h:52</a></div></div>
<div class="ttc" id="class_bimage_html_a6095bea1f7ef723790ce2747a51402be"><div class="ttname"><a href="class_bimage.html#a6095bea1f7ef723790ce2747a51402be">Bimage::data_alloc</a></div><div class="ttdeci">unsigned char * data_alloc()</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00227">Bimage.h:227</a></div></div>
<div class="ttc" id="utilities_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="utilities_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8h_source.html#l00051">utilities.h:51</a></div></div>
<div class="ttc" id="rwimg_8h_html_aaec50c2f5359f48b9dadb444aeb7ae5c"><div class="ttname"><a href="rwimg_8h.html#aaec50c2f5359f48b9dadb444aeb7ae5c">read_img</a></div><div class="ttdeci">Bimage * read_img(const char *filename, int readdata, int img_select)</div><div class="ttdoc">General driver function to read multiple image formats. </div><div class="ttdef"><b>Definition:</b> <a href="rwimg_8cpp_source.html#l00075">rwimg.cpp:75</a></div></div>
<div class="ttc" id="class_bstring_html_a45a1baecd5b35d440905a2c14eead185"><div class="ttname"><a href="class_bstring.html#a45a1baecd5b35d440905a2c14eead185">Bstring::next</a></div><div class="ttdeci">Bstring * next</div><div class="ttdef"><b>Definition:</b> <a href="_bstring_8h_source.html#l00027">Bstring.h:27</a></div></div>
<div class="ttc" id="class_bimage_html_a107fe37d9930427ee512dfc9111f0b93"><div class="ttname"><a href="class_bimage.html#a107fe37d9930427ee512dfc9111f0b93">Bimage::sampling</a></div><div class="ttdeci">void sampling(double s)</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00412">Bimage.h:412</a></div></div>
<div class="ttc" id="img__filter_8h_html"><div class="ttname"><a href="img__filter_8h.html">img_filter.h</a></div><div class="ttdoc">Header file for image utilities. </div></div>
<div class="ttc" id="img__combine_8h_html"><div class="ttname"><a href="img__combine_8h.html">img_combine.h</a></div><div class="ttdoc">Header file for combining two images in various ways. </div></div>
<div class="ttc" id="singleton_vector3_html_aeeecbd3f051852a5635c406dbd10c76b"><div class="ttname"><a href="singleton_vector3.html#aeeecbd3f051852a5635c406dbd10c76b">Vector3::scalar</a></div><div class="ttdeci">double scalar(const Vector3 &amp;v) const </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8h_source.html#l00219">Vector3.h:219</a></div></div>
<div class="ttc" id="singleton_vector3_html_a8354ed65698ad8e26def9a18493409a2"><div class="ttname"><a href="singleton_vector3.html#a8354ed65698ad8e26def9a18493409a2">Vector3::x</a></div><div class="ttdeci">Type x()</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8h_source.html#l00139">Vector3.h:139</a></div></div>
<div class="ttc" id="img__mask_8cpp_html_af0f93c29d1a6105d99a530f0ce01a8fa"><div class="ttname"><a href="img__mask_8cpp.html#af0f93c29d1a6105d99a530f0ce01a8fa">img_plane_mask</a></div><div class="ttdeci">int img_plane_mask(Bimage *p, Vector3&lt; float &gt; origin, Vector3&lt; float &gt; normal, int operation)</div><div class="ttdoc">Generates a mask on one side of a plane. </div><div class="ttdef"><b>Definition:</b> <a href="img__mask_8cpp_source.html#l00031">img_mask.cpp:31</a></div></div>
<div class="ttc" id="jpeglib_8h_html_aa0ccb5ee6d882ee3605ff47745c6467b"><div class="ttname"><a href="jpeglib_8h.html#aa0ccb5ee6d882ee3605ff47745c6467b">val</a></div><div class="ttdeci">int val</div><div class="ttdef"><b>Definition:</b> <a href="jpeglib_8h_source.html#l00956">jpeglib.h:956</a></div></div>
<div class="ttc" id="trigonometry_8h_html"><div class="ttname"><a href="trigonometry_8h.html">trigonometry.h</a></div><div class="ttdoc">Header file for trigonometry functions. </div></div>
<div class="ttc" id="class_bimage_html_a9520a6f42f1899c071cb75dc5ce63e17"><div class="ttname"><a href="class_bimage.html#a9520a6f42f1899c071cb75dc5ce63e17">Bimage::size</a></div><div class="ttdeci">Vector3&lt; size_t &gt; size()</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00325">Bimage.h:325</a></div></div>
<div class="ttc" id="class_bsub__image_html_a3d549f2361903b77f85fe47eed978c17"><div class="ttname"><a href="class_bsub__image.html#a3d549f2361903b77f85fe47eed978c17">Bsub_image::origin</a></div><div class="ttdeci">void origin(double x, double y, double z)</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00133">Bimage.h:133</a></div></div>
<div class="ttc" id="class_bimage_html_a10e8730d845b7d0f19536f31385b37b0"><div class="ttname"><a href="class_bimage.html#a10e8730d845b7d0f19536f31385b37b0">Bimage::set</a></div><div class="ttdeci">void set(size_t j, double v)</div><div class="ttdoc">Sets a single value at the given index. </div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8cpp_source.html#l00915">Bimage.cpp:915</a></div></div>
<div class="ttc" id="img__mask_8cpp_html_a0b2caeb4b6f130be43e5a2f0267dd453"><div class="ttname"><a href="img__mask_8cpp.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a></div><div class="ttdeci">int verbose</div></div>
<div class="ttc" id="class_bimage_html_a4a9cf8f23889bcd405318cf88ff629c9"><div class="ttname"><a href="class_bimage.html#a4a9cf8f23889bcd405318cf88ff629c9">Bimage::mask_combine</a></div><div class="ttdeci">size_t mask_combine(Bimage *p, int operation)</div><div class="ttdoc">Combines two masks with different operations. </div><div class="ttdef"><b>Definition:</b> <a href="_bimage__mask_8cpp_source.html#l00219">Bimage_mask.cpp:219</a></div></div>
<div class="ttc" id="class_bimage_html_abbb6582d7b42fbcf38b99961124e3070"><div class="ttname"><a href="class_bimage.html#abbb6582d7b42fbcf38b99961124e3070">Bimage::images</a></div><div class="ttdeci">size_t images()</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00410">Bimage.h:410</a></div></div>
<div class="ttc" id="class_bimage_html_a18aa76f7e83a259bffcd657493ee54f8"><div class="ttname"><a href="class_bimage.html#a18aa76f7e83a259bffcd657493ee54f8">Bimage::data_size</a></div><div class="ttdeci">size_t data_size()</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00226">Bimage.h:226</a></div></div>
<div class="ttc" id="_bimage_8h_html_ad8ed01ff3ff33333d8e19db4d2818bb6a1e2f89e867cd91c3de2ea9fbd2ef96a3"><div class="ttname"><a href="_bimage_8h.html#ad8ed01ff3ff33333d8e19db4d2818bb6a1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a></div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00057">Bimage.h:57</a></div></div>
<div class="ttc" id="class_bstring_html"><div class="ttname"><a href="class_bstring.html">Bstring</a></div><div class="ttdef"><b>Definition:</b> <a href="_bstring_8h_source.html#l00025">Bstring.h:25</a></div></div>
<div class="ttc" id="class_bimage_html_a3432ac8344739300fd3f600602c193d9"><div class="ttname"><a href="class_bimage.html#a3432ac8344739300fd3f600602c193d9">Bimage::sizeX</a></div><div class="ttdeci">void sizeX(size_t nx)</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00328">Bimage.h:328</a></div></div>
<div class="ttc" id="img__mask_8cpp_html_a7bb5fdcebef0c8a0699b806f7e52a554"><div class="ttname"><a href="img__mask_8cpp.html#a7bb5fdcebef0c8a0699b806f7e52a554">img_mask_region_interfaces</a></div><div class="ttdeci">int img_mask_region_interfaces(Bimage *pmask, int reg_num)</div><div class="ttdoc">Reports the whole interface matrix or interfaces for one region only. </div><div class="ttdef"><b>Definition:</b> <a href="img__mask_8cpp_source.html#l00318">img_mask.cpp:318</a></div></div>
<div class="ttc" id="singleton_vector3_html_aba4bd5a032489bb77d4a629573b5c018"><div class="ttname"><a href="singleton_vector3.html#aba4bd5a032489bb77d4a629573b5c018">Vector3::normalize</a></div><div class="ttdeci">double normalize()</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8h_source.html#l00208">Vector3.h:208</a></div></div>
<div class="ttc" id="class_bimage_html_a104564e841e6f16eb1ed1746a02d3516"><div class="ttname"><a href="class_bimage.html#a104564e841e6f16eb1ed1746a02d3516">Bimage::sizeY</a></div><div class="ttdeci">void sizeY(size_t ny)</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00329">Bimage.h:329</a></div></div>
<div class="ttc" id="img__mask_8cpp_html_adb9fbcd36bee915dd90bcdaef147d578"><div class="ttname"><a href="img__mask_8cpp.html#adb9fbcd36bee915dd90bcdaef147d578">img_composite_mask</a></div><div class="ttdeci">Bimage * img_composite_mask(int nfiles, Bstring *file_list, int mask_type)</div><div class="ttdoc">Generates a composite of multiple masks. </div><div class="ttdef"><b>Definition:</b> <a href="img__mask_8cpp_source.html#l00156">img_mask.cpp:156</a></div></div>
<div class="ttc" id="utilities_8h_html_a7a792b864363d93aa719ee663b140f16"><div class="ttname"><a href="utilities_8h.html#a7a792b864363d93aa719ee663b140f16">VERB_FULL</a></div><div class="ttdeci">#define VERB_FULL</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8h_source.html#l00101">utilities.h:101</a></div></div>
<div class="ttc" id="utilities_8h_html_a0472bdfea57c833b4eaba94f1ee0b781"><div class="ttname"><a href="utilities_8h.html#a0472bdfea57c833b4eaba94f1ee0b781">VERB_LABEL</a></div><div class="ttdeci">#define VERB_LABEL</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8h_source.html#l00098">utilities.h:98</a></div></div>
<div class="ttc" id="class_bimage_html_a3f8daaa394b40c3d3fec19e544125e5c"><div class="ttname"><a href="class_bimage.html#a3f8daaa394b40c3d3fec19e544125e5c">Bimage::data_type</a></div><div class="ttdeci">DataType data_type()</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00303">Bimage.h:303</a></div></div>
<div class="ttc" id="singleton_vector3_html_a1c63a9bf59141df56a51d34a19fa79f7"><div class="ttname"><a href="singleton_vector3.html#a1c63a9bf59141df56a51d34a19fa79f7">Vector3::y</a></div><div class="ttdeci">Type y()</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8h_source.html#l00140">Vector3.h:140</a></div></div>
<div class="ttc" id="utilities_8h_html_a243b53ba9107e16b3efffbe709b86085"><div class="ttname"><a href="utilities_8h.html#a243b53ba9107e16b3efffbe709b86085">tab</a></div><div class="ttdeci">ostream &amp; tab(ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cpp_source.html#l00021">utilities.cpp:21</a></div></div>
<div class="ttc" id="class_bimage_html_a4c3d90a7e963c8fb653f825eb139b045"><div class="ttname"><a href="class_bimage.html#a4c3d90a7e963c8fb653f825eb139b045">Bimage::image</a></div><div class="ttdeci">Bsub_image * image</div><div class="ttdef"><b>Definition:</b> <a href="_bimage_8h_source.html#l00184">Bimage.h:184</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_7673ec780970b264223275c6ce2fb0e1.html">img</a></li><li class="navelem"><a class="el" href="img__mask_8cpp.html">img_mask.cpp</a></li>
    <li class="footer">Generated on Fri Aug 14 2015 18:20:00 for Bsoft by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
